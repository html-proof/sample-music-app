type User @table {
  displayName: String!
  createdAt: Timestamp!
  email: String
  photoUrl: String
}

type Artist @table {
  name: String!
  createdAt: Timestamp!
  bio: String
  genre: String
}

type Song @table {
  title: String!
  year: Int!
  createdAt: Timestamp!
  duration: Int
  album: String
  artist: Artist
}

type Listen @table {
  createdAt: Timestamp!
  listenDate: Date!
  platform: String
  user: User
  song: Song
}

type Review @table {
  rating: Int!
  createdAt: Timestamp!
  updatedAt: Timestamp!
  reviewText: String
  song: Song
  user: User
  listen: Listen
}

type Playlist @table {
  name: String!
  public: Boolean!
  createdAt: Timestamp!
  updatedAt: Timestamp!
  description: String
  user: User
}

type PlaylistSong @table(key: ["playlist", "song"]) {
  position: Int!
  note: String
  playlist: Playlist!
  song: Song!
}